tosca_definitions_version: cloudify_dsl_1_2

imports:
  - http://www.getcloudify.org/spec/cloudify/3.3/types.yaml
  - http://www.getcloudify.org/spec/fabric-plugin/1.3/plugin.yaml

node_templates:
  example_node_template:
    type: cloudify.nodes.Root
    interfaces:
      cloudify.interfaces.lifecycle:
        create:
          implementation: fabric.fabric_plugin.tasks.run_module_task
          inputs:
            task_mapping: module_plugin.tasks.some_function


  module:
    type: cloudify.nodes.SoftwareComponent
    relationships:
      - target: example_node_template
        type: cloudify.relationships.depends_on
    interfaces:
      cloudify.interfaces.lifecycle:
        create:
          implementation: script.script_runner.tasks.run
          inputs:
            script_path: scripts/start.sh
